Title: How to use the Bulk Actions Tool SOP
URL: https://gustohq.atlassian.net/wiki/spaces/PlatformOperations/pages/169411366
================================================================================

OverviewAs Gusto scales, the Payment Operations team needs to have the ability to take bulk actions on resources like Nacha Entries and Nacha FIles without requiring engineering involvement.Attached is the spec of the tool.PurposeCurrently, the Payment Operations team has limited ability to perform actions in bulk. For example, they are able to cancel some or all of the nacha entries within a given nacha file. However, they are not able to cancel nacha entries that belong to multiple nacha files at once. In unsupported cases, engineering must either use console or deploy a rake task if time allows which. With great power comes great responsibility. This is a tool that will be very powerful and helpful in emergency situations (fires). When the time comes that you need to use it, be very careful and double check your work. Partner with eng/ external team to make sure the numbers line up before submitting anything! NOTE: DO NOT use the bulk action tool to recreate nachas for any nachas that have been written off for bad debt, (e.g. invoices) will cause incorrect reporting.Where can you find the ACH Bulk Actions tool?Payment Operations > Tools >  ACH Bulk Actions (or use the direct link here)How to use the Bulk Actions tool -There are currently six resource types when using the tool: Nacha EntriesNacha FilesInvestigationsElectronic PaymentsCompaniesPayment InvestigationsFor Nacha Entries, there are four action options: Cancel: Remove the nacha entry or entries from nacha file(s). Retry: Retry multiple nacha entries in bulk.Approve: Approve multiple nacha entries in bulk.Reverse: Reverse the nacha entries in bulk (5 days from check date only) If you want to bulk approve nacha entries at the end of the day (PC) use this query to pull up all nacha entries that are in a "pending approval" stateClick Refresh on the query to generate the most up to date nacha entriesDownload the CSVUpload the CSV into the bulk actions tool for NACHA entriesSelect Approve for the Action Type  For Nacha Files there are two action options: Unblock: unblock a nacha file to continue on for evening file submission. Block: block a nacha file from being submitted during the evening file submission. For Investigations, there is only one action option:Resolve: resolve files in the investigation page such as overpaid payment agents For Electronic Payments, there is only one action option:Void: void electronic payments in bulkFor Companies, there are four action options:These options list out which bank accounts to switch the bulk items to (e.g. Chase, PNC, SVB, Blueridge and Grasshopper)For Payment Investigations, there are four action options:Bulk Action can be submitted via Resource ID list via .csv or a ListResource ID via .csv upload (no commas, row by row) OR Resource ID List (commas needed) A preview of the affected Nacha Entries and command will appear - and then will have to press submit again. After submitting - Payment Ops is able to check on the sidekiq job for progress.  If the job was successful, a success message and if the job was unsuccessful, an error link will appear. For Reversals, there are four action options