Title: Daily Bank Transaction Reconciliation by Bank Transaction Type
URL: https://gustohq.atlassian.net/wiki/spaces/PlatformOperations/pages/169411126
================================================================================

Reconciliation RelationshipWhen a reconciliation occurs, a bank transaction is being tied to a payment record which is a representation of a transmission in Panda. The level at which each transmission is tied is shown below:Reconciliation Cleanup DashboardCheck out this redash dashboard as a one-stop shop for reconciliation investigationACH ExternalSanity check: What do we check against?AmountCompanyAgencyBank accountDatePayment directionTriage steps:Step 1: Check the electronic payment reconciliation page for the electronic payment - https://app.gusto.com/panda/electronic_paymentsStep 1.1: Filter for amount or LIKE description.Reconcile, if you are able. If not, then proceed to Step 1.2Step 1.2: Filter for possible micro-varianceReconcile, if you are able. If not, then see the next step below:Micro-variance updater will run for PF liabilitiesIf the mico-variance updater did not update, then follow up with SupreetIf the micro-variance ran but the amount is still off, then investigate for the discrepancyRun a query for the discrepancy where payment record != agent filing amountIf you find the discrepancy, then follow up with the TaxOps agency owner why the agency debited more/less than what is shown in the payment records.Follow up with the TaxOps agency ownerMicro-variance updater DOES NOT run for MT liabilitiesIf it is a MasterTax liability, and the electronic payment appears to be a variance, then investigate why there is a discrepancyFollow up with the TaxOps agency owner if they know where the discrepancy is coming from. Provide the bank transaction. If they know the discrepancy, ask why we underpaid or overpaid. Pending Action Item (A/I) will be to create a JIRA ticket for engIf they do not know where the discrepancy is coming from, then ask for the “receipt” of all the companies and amounts remitted. Provide the bank transaction. Compare the receipt with the electronic entries to find the discrepancy. Once found, ask TaxOps why we underpaid/overpaid.If a “receipt” is unavailable, then tell TaxOps to reach out the agency for an explanation - why did the agency debit us more/less than what was on the filing and for the name of the offending compan(ies)Step 1.3. Filter by agency and research by dateIt could be that the bank transaction matches the filing amount, but it does not match the payment record on the agent payment.Look for an electronic payment with a created at date that is close to our bank transaction dateThen, from the electronic payment to the agent filing to see if the filing amount matches the bank transaction (electronic payment > electronic entry > agent payment > agent filing)If there is a match, then determine what caused the discrepancy and root cause before writing up a JIRA ticket.Step 2: Look for the agent payment by filtering for the amount (and agency, if known) - https://app.gusto.com/panda/agent_paymentsReconcile, if you are able. If not, then see next step below:If you found the electronic payment for the bank transaction, but cannot reconcile for the following reasons:Draft paymentNOT GOOD. This means that the agency debited our account for liabilities, but our system shows that these liabilities were not ready to be remittedFind out why the agent payment is still in draft status and why the payment records were not created. A good indicator is by looking at the agent filing for failed attempts or bad data.Double paymentNOT GOOD. This means that the agency debited our account twice for the same liabilityFind out why the agency debited our account twice. This requires working with Payroll Compliance.Step 3: Look for the payment using the Gustomer information in the bank transaction(see
for agency tips if the name of the customer is not obvious from the bank transaction)Go to Company’s Panda page > Filter by agency (use the bank transaction determine the quarter due date)Reconcile, if able. If not, then see below:Why is the amount off?Reach out to TaxOps to ask if we manually paid this through the agency’s website. Ask why they paid a different amount from what is shown on the agent payment.Check the payment recordIs there a discrepancy on the payment record?Is there an incorrectly tied PRE that is not tied to an event that matches the discrepancy between the bank transaction & agent payment amount? If so, then use the Underpayment/Overpayment Tool to reconcile the bank transactionAlso create a JIRA ticket to Payment & Filing (Payroll Viking Master) for them to look in to the root cause if there is not an existing one alreadyRefer to the V2 sheetto see if there's an existing JIRA ticket for this issueCheck the agent filing and/or quarterly filing formWas there a credit on the company’s account? Is the credit (or prepaid liability) matches the discrepancy between the bank transaction & agent payment amount?If so, then use the Underpayment/Overpayment Tool to reconcile the bank transactionAlso create a JIRA ticket to Payment & Filing (Payroll Viking Master) for them to look in to the root cause if there is not an existing one already (refer to Unreconciled Bank Transaction Tracker to see if there's an existing JIRA ticket for this issue)Is the sum of the Gusto Liabilities (found on the agent payment) off from the agent payment or bank transaction? Is there a payroll liability that matches the discrepancy between the bank transaction & agent payment amount? Such as a reversal payroll? If so, check if the reversal was timely or not. Depending on the timing, we can determine if there was a reversal bug.Then, use the Underpayment/Overpayment Tool to reconcile the bank transactionAlso create a JIRA ticket to Payment & Filing (Payroll Viking Master) for them to look in to the root cause if there is not an existing one already (refer to Unreconciled Bank Transaction Tracker to see if there's an existing JIRA ticket for this issue)Check if the company has an agent filing or quarterly filing formFollow up with TaxOps agency owner to “release & pay” the MT deposit so the agent payment gets imported into Panda if the payment was made manually outside our system.Run a query for any discrepancy between the agent filing and agent payment (for Pufferfish agencies)The bank transaction should match the filing amount because the filing is what we send to the agency for them to debit our accountStep 4: Follow up with the tax agency owner for the affected quarter if they recall making a manual payment.If they’re able to tell you which Gustomer the payment was for, then follow step 3.If they provide the koala task, determine the following the reasons why you weren’t able to locate the electronic paymentWas the electronic payment simply not imported in Panda?Step 5: Was this a corporate activity?Look up previous bank transactions with similar bank descriptions - https://app.gusto.com/panda/bank_transactionsIf it is corporate partner activity, no action is needed.Ex. of common Partner Activity:AP IntegoFive Stars LoyalGuidelineStandby LCIf unsure of what action is needed, reference this list of Panda/Corp Reconciliation ReviewIf unable to determine if it is corporate activity, ask Accounting in #fintech-fbos-unitedStep 6: Is it a Chase Flex Pay Revenue transaction?These transactions should be auto-reconciled on a weekly basis with a rake task ran by Payments Eng- Reporting InfraFor tracking purposes, make sure to add the transaction to the V2 sheetStep 7: Was this held for sanctions?When we see Sanctions Review bank transactions, we should look for an email from our banking partner, and notify Dan in RiskOps.Once confirmed, create a Jira ticket for PayEng to tie the transaction to the payroll or agent payment.ACH TransactionTriage Steps:Step 1: Check unreconciled Nacha Batch investigations for a match. The investigation can be found through Panda or through the #payment-alerts-temp channel in Slackits Debit Amount must equal the amount of the bank transaction, if the Bank Transaction is a creditits Credit Amount must equal the amount of the bank transaction, if the Bank Transaction is a debitits Entry Description must equal everything from character index 17 of the entire Bank Transaction description up until the phrase ‘PREFUNDING’ for debit transactions, or ‘ACH OFFSET’ for credit transactions. For example, if the Bank Transaction description reads ‘GUSTO           PAY 1234567 PREFUNDING ACH OFFSET,’ then that Bank Transaction may be matched with a Nacha Batch having the Entry Description ‘PAY 1234567’its Check Date must be no sooner than the date of the Bank Transaction, and no later than 4 business days after the date of the Bank TransactionIf you've received information from the tax agency regarding the payment, it can be interpreted using the following image: Step 2: Look at recent Reconciliation tickets for a matchIf you find a match, comment with the transaction and create a PayEng ticket so we can reconcile the transaction. ACH ReturnTriage Steps:Step 1: Check nacha entry return reconciliation page - https://app.gusto.com/panda/nacha_entry_return_reconciliationsIf you cannot find it the nacha entry return, then go to step 2. Step 2: Look at the description for the bank transaction, it should look something like this: “,GUSTO ITT 331245,,6semjmrs9be,,ZenPayroll, Inc.,” Step 2.1: Open Terminal on your Mac, by performing a spotlight search (Space + Command) and typing in “Terminal.” Once the terminal has launched, move on to step 2.2. Step 2.2: Type "irb" after your name and hit enter.Step 2.3: Taking the red section from the description, type: '6semjmrs9be'.to_i(32) in the command lineStep 2.4: Hit return/enterThe number that will appear in Terminal will be the nacha entryYou should be able to find the return from the nacha entry by navigating to the following link, be sure to add the nacha entry number generated by the command execution after the last backslash: https://app.gusto.com/panda/nacha_entries/7756732105106798Check PaidTriage StepsStep 1: View check image for the company’s nameLogin to the appropriate banking portal (SVB or Chase) and search for the check via the ‘Transaction Details’ module in SVB or ‘Check Inquiry’ module in Chase.If near the beginning of the month, use the Absolute Date to include the month beforehandIf searching for a Chase Corporate check, make sure to select the correct accountClick on the check number or image, which typically shows the company name.Sometimes the actual check number printed on the check will vary from the number the system read, preventing the check from auto-reconcilingStep 2: Search for the appropriate Agent PaymentUsing the company name from the bank portal, search in Panda for the company, then look under Agent PaymentsIn Agent Payments, filter by the amount and agency information referenced on the check image to find the right Agent PaymentStep 3: Once you find the right Agent Payment, check the balance of the Agent PaymentIf the balance equals the amount, a transmission exists:On the transmission, the check number may not equal the check number that was cashed.  This could be potential double pay!Log in to MasterTax (VPN required), and locate the deposit by searching for the Deposit ID (Utilities/Deposit Maintenance/Deposited). If Mastertax shows the check was deposited and the check number in Mastertax is the same as the check number on the bank transaction, there is a slim chance of double pay.Void the old check payment transmission (with the old check number)Add the untracked check to the Tax Ops <> Payment Ops Issue trackerOnce new check # is tracked, then the bank transaction can reconcileIf it is a double payment, we will need to create a PayEng ticket to create a check payment transmissionIf the balance equals zero, a transmission does not existIf the check payment does not appear on the Agent Payment, it may not have been tracked by the Tax Ops person who processed the deposit.If the payment is for a MasterTax agency (i.e. it’s not found on this list of Pufferfish agencies), locate the ‘MasterTax Deposit ID,’ which is found under Agent Payment Details on the Agent Payment page in Panda.Check who processed the deposit.Log in to MasterTax (VPN required), and locate the deposit by searching for the Deposit ID (Utilities/Deposit Maintenance/Deposited). The person who processed the deposit is listed above the deposit information.OR Check the TaxOps roles Google Sheet TaxOps Agency Roles to identify the agency owner for the applicable quarter.Add the untracked check to the Tax Ops <> Payment Ops Issue tracker*Please note- untracked checks are a MasterTax issue and not PufferFish, because the payments for PufferFish agencies are electronically remittedCheck ReturnTriage StepsStep 1. Check returns are mostly auto-reconciled. However, when a check return is not auto-reconciled, you should create a Jira ticket for Payments Eng. They will create the transmission for the bank transaction so it can reconcile, split the payment record, and tie it back to the event.Sample JIRA ticket for check returnWire OutTriage StepsIn order for a given Bank Transaction to be reconciled with a Wire Payment in Gusto’s database, there must exist a single Wire Payment in Gusto that meets the following criteria:its Amount must equal the amount of the Bank Transactionits Payment Date must equal the date of the Bank Transactionits Company Name OR its Name must start with character index 48 up until the last ‘:’ of the Bank Transaction description. For example, if a Bank Transaction has the description ‘WIRE OUT 12345AAA11A1B000001{ 201604806753;BNF ACME INC :’, then it may be matched with a Wire Payment having Company Name ‘Acme Incorporated’Check to see if the wire payment is in Transmission Reconciliation:  Unreconciled Wire PaymentsWire InWire In Payroll Wire in payrolls occur when the customer needs to fund a large, expedited payroll, or a payroll that is greater than their credit limit.Step 1: Check the electronic payment reconciliation page - https://app.gusto.com/panda/electronic_payment_reconciliationsFilter by amountWe are moving funds from the Wire In account (into Wire In account via Debit Wire In, out of Wire In account via Credit Wire In) to the Ops account (into Ops account via Debit Ops).There should be an electronic payment for the Debit Wire In, Credit Wire In, and Debit Ops If you cannot find the electronic payment, then proceed to Step 2.Step 2: Locate the payrollLook up the company’s Panda page by using the bank transactionGo the the company’s agent payment and filter payment type as “payroll payment”If you can’t identify the company from the bank transaction, you can still locate the payroll by filtering the general Agent Payment page by “payroll payment” and the bank transaction amount.Filter the Electronic Payment by Date and Amount in descending order.Step 3: If the payroll has not been approved by Risk, it will not have an electronic payment yet.Post the payroll in #risk-payments to get Risk approval.  Once the payroll is approved, it will generate an electronic paymentRecovery Wire InThese transactions will usually come in the Chase BAI file and are sent from the “Chase Recovery” accountYou will need to add the bank transaction to the Recovery team’s Recovery Sheet. Search for company, find payroll associated with recovery, make comment on file that recovery team will handle itRecovery team should create the Jira ticket and track it on the sheet aboveIf the wire in is for failed nacha entries on payrolls, and the amount of the wire matches the amount of the failed nacha entry, then Risk will use to the Repayment Reporter Tool to reconcile the transaction. This tool does not work for multiples wires, so if multiple wires came in for one nacha entry, then we need Payment Eng helpPayment Eng will need to create the transmission, split the payment record, and tie it back to the payroll. Wire In (Unknown) An unknown wire in could be a Wire Payment Return, that wasn't returned properly by the receiving bank/agency. This Wire In might be for an amount that is less than what we originally wired. We've seen Return Wires come back for an amount that is $15-$25 less than the original wire, so keep that in might when investigating.Check all Wire Payments and filter for an amount and date that is similar to the Wire In bank transaction. If you are able to find the correct Wire In transaction, use the Wire Return to Payment Matcher to reconcile the transaction.If you aren't able to locate any similar Wire Payments around that amount, you can also email our respective banking representatives at Chase or SVB depending on which bank account this was for. Connect with whoever is Payments Captain, as they might be the ones handling the original wire, in the case of this being a failed wire payment. This is an example of a wire in bank transaction that came in and should've been a Wire Payment Return, but was processed improperly by the receiving bank. In addition to that, this SVB also failed to notify us that the original wire failed, due to the unusual nature of this transaction.  Wire ReturnsWire returns occur when an attempted wire is unsuccessful. This is typically due to incorrect account information, such as an employee providing us with their ACH routing instead of wire routing number. The description on the wire returns typically contains "RTN" or "Return" which is how our system is able to recognize a wire return versus a wire in.Wire returns are typically automatically reconciled. Once we receive the wire return transaction, a payment record should automatically be created and reconciled without needed ops intervention.If there are no automatic matches:Search for a wire payment for the same amount → https://app.gusto.com/panda/wire_paymentsCheck the description for the company name or employee name, date, amountIf you are able to find the correct Wire In transaction, use the Wire Return to Payment Matcher to reconcile the transaction.If you are unable to find the correct Wire In transaction, file a JIRA to the Payroll VM for Payments and Filing to investigate why the payment record for the wire return was not created or reconciledKnown UnknownsKnown Unknowns are rare but occur when our system is not sure what the transmission method is. Typically when these show up, it is related to recovery activity.Process:Check this recovery sheet → https://docs.google.com/spreadsheets/d/1_BTvo5ODUGBOKWAcYy5mxTmln3Y4Ca_1drcsakR08Z4/edit#gid=720331806If it is on the sheet, add the panda link for the bank transaction to the sheetSlack Sammy Park and let them know that the recovery amount came inProvide him with a link to the bank transactions, and let him know that you have also added the link to the spread sheetSammy will create a JIRA for the Payments Eng team to create payment records to reconcile the recovery amount to it's corresponding payroll eventKnown Unknowns can also come through from LOI requestsLook up the transaction in the banking portal for more information about the transaction.  Sometimes a check will be attached in the banking portal that shares more information about the payment.LExample- for this Known Unknown in SVB gave us the employee name to look up in Panda, which then gave us a company name to search for in Reconciliation tickets. A Known Unknown can be generated from transferring money from one account to another - see this Jira for an example.Unknown MethodUnknown Methods are rare but occur when our system is not sure what the transmission method is. Typically when these show up, it is related to recovery activity.  For PNC Unknown MethodsPNC transactions sent in with a payment method as Unknown Method will typically have a vague description on what the return was sent for. Since we have no identifying information, we can reach out to PNC on the Pinnacle portalAn example transaction with the description looks like this (R23 4/1/22):Creating an Issue request on  the Pinnacle PortalOnce you're logged into the Pinnacle site, click Contact Us → Create an IssueOn the Create an Issue page, select Transaction Detail under the Reason section:In the Transaction Detail page, you will need to fill out the applicable fieldsExplain section: this section is to ask more info about what the original transaction the unknown method was applied for),Account: this is our PNC Ops account, can be found in the Gusto Bank Accounts page), Settlement date and Effective Date: date we saw the transactionAmount: amount of the transaction Screenshot - you can add a screenshot of the transaction in PandaOnce all the applicable fields are filled out, you can hit the Submit button!Waiting for a Response/Resolution from PNCPNC is usually pretty quick with following up on your inquiry. They'll send two emails, one when it's In Process, and another when it's Resolved (screenshots below)Once it's resolved, you can log back into the Pinnacle portal. To access your inquiry, click Contact Us → Manage IssuesFrom there, you'll see the Resolved request and you can click your Reference # on the left side of the page to open up your issue\A separate pop-up window will open with a reply from the Pinnacle team (example screenshot below):You should be able to use the information provided to locate the applicable transaction! Note: If the PNC message has insufficient information, you can always click Reject Resolution and follow up for more information.Zero Balance TransferBackground:These transactions appear when we are transferring funds to another account that does not have funds in it. The receiving account would typically only be used to cover specific reasons for debits.These do not show up often in the BAI Files. Process: The ZBT auto corrector runs at 9pm (on Day 0) for the previous day (Day -1), and can be checked next morning (Day 1) to confirm that the process ran successfully. While ZBTs should now be auto-reconciled with this process, please create a ticket (ex. PAYENG-2432) to track how often this occurring. If unable to independently determine why the ZBT occurred, check with #fintech-fbos-united to see if they know why the transfer occurred